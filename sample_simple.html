<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/TR/html4/loose.dtd'>
<html lang="ja">
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
<meta http-equiv='Pragma' content='no-cache'>
<meta http-equiv='Cache-Control' content='no-cache'>
<meta http-equiv='Expires' content='Thu, 01 Dec 1994 16:00:00 GMT'>
<meta http-equiv='content-language' content='ja'>
<title>【図形描画】</title>

<script language="javascript" src="./drawdiagram/include.js"></script>
<script language="javascript">
<!--
var mDrawDiagram = null;

// 起動時処理
function fncLoad() {
	try {
		// 図形描画開始
		fncDrawStartDiagram();

	} catch(e) { alert(e.message) }
}

// 終了時処理
function fncUnLoad() {
	// 図形描画終了
	fncDrawEndDiagram();
}



// 図形描画開始
function fncDrawStartDiagram() {
	try {
		var wMain = document.getElementById('divCanvas');

		// パラメータ
		// parent	: キャンバスの親要素
		// locked	: キャンバス操作ロック状態
		// sidepanel: サイドパネル使用有無
		// ctrlpanel: コントロールパネル使用有無
		// addfunc	: 項目追加時の標準callback
		// delfunc	: 項目削除時の標準callback
		// statfunc	: 項目ステータス変更時の標準callback
		// posfunc	: 項目配置変更時の標準callback
		// keyperson: 主項目用のパラメータ
		// 　addfunc	: 主項目追加時の標準callback
		// 　delfunc	: 主項目削除時の標準callback
		// control	: 項目操作関連設定
		// 　drag		: 項目ドラッグ可否設定
		// 　　person		: 人物
		// 　　group		: グループ
		// 　　comment		: コメント
		// 　　relation		: 中継点
		// 　　freeline		: フリーライン
		// 　moveInit	: 通常編集時項目移動可否
		// 　　person		: 人物
		// 　　group		: グループ
		// 　　comment		: コメント
		// 　　relation		: 中継点
		// 　　freeline		: フリーライン
		// canvas	: 画像描画エリア設定
		// 　width		: キャンバス横幅（省略時はDefault：1620）
		// 　height		: キャンバス縦幅（省略時はDefault：1120）
		// 　widthSub	: キャンバス横幅減算値
		// 　heightSub	: キャンバス縦幅減算値
		// menu		: メニュー設定
		// 　sidepanel	: サイドパネル編集メニュー有無
		// 　contents	: コンテンツメニュー設定
		// 　　data			: Save/Loadメニュー有無
		// 　　edit			: 編集メニュー有無
		// 　　print		: 印刷メニュー有無
		// 　relation	: 関係メニュー設定
		// 　　autoClose	: メニュー自動Close
		// 　　stat			: 状態有無
		// 　　kind			: 関係性有無
		// 　　comment		: コメント有無
		// 　　way			: 働きかけ有無
		var wMainParam = {
			  parent	: wMain
			, sidepanel	: false
			, ctrlpanel	: false
			, control		: {
				  drag		: {
					  person	: false
					, group		: false
					, comment	: true
					, relation	: true
					, freeline	: true
				}
				, moveInit	: {
					  person	: true
					, group		: true
					, comment	: true
					, relation	: true
					, freeline	: true
				}
			}
			, menu		: {
				  sidepanel		: false
				, contents		: {
					  edit			: true
					, print			: true
					, data			: true
				}
				, relation		: {
					  autoClose		: true
					, kind			: true
				}
			}
		};

		// 主コンテンツ生成
		mDrawDiagram = new clsDrawMain( wMainParam );

		// 登録開始
		mDrawDiagram.drawStart();
		
	} catch(e) { 
		// エラーメッセージ表示後に画面閉じる
		alert( e.message + '\n' + e.name );
	}
}

// 図形描画終了
function fncDrawEndDiagram() {
	try {
		if ( mDrawDiagram != null ) {
			mDrawDiagram.freeClass();
		}

	} catch(e) {}

	mDrawDiagram = null;
}


//-->
</script>
</head>

<body onLoad="fncLoad();" onUnload="fncUnLoad();">

<div id='divCanvas'></div>

</body>
</html>
